import{_ as C}from"./pagetitle.7e123cb8.js";import{a as k,r as v,h as M,o as a,b as i,e as t,u as o,w as h,v as f,t as _,q as x,s as S,m,p as w,F as V,E as T,K as E,c as B}from"./entry.3decec21.js";import{_ as A}from"./right-side-panel.vue.72161668.js";const j={class:"w-full bg-white shadow-sm p-2 my-2"},U={class:"p-2 flex justify-between items-start"},L={key:1,class:"text-primary"},N={key:2},R=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 fill-current",viewBox:"0 0 512 512"},[t("title",null,"Edit"),t("path",{d:"M384 224v184a40 40 0 01-40 40H104a40 40 0 01-40-40V168a40 40 0 0140-40h167.48",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"}),t("path",{d:"M459.94 53.25a16.06 16.06 0 00-23.22-.56L424.35 65a8 8 0 000 11.31l11.34 11.32a8 8 0 0011.34 0l12.06-12c6.1-6.09 6.67-16.01.85-22.38zM399.34 90L218.82 270.2a9 9 0 00-2.31 3.93L208.16 299a3.91 3.91 0 004.86 4.86l24.85-8.35a9 9 0 003.93-2.31L422 112.66a9 9 0 000-12.66l-9.95-10a9 9 0 00-12.71 0z"})],-1),P=[R],z=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 fill-current",viewBox:"0 0 512 512"},[t("title",null,"Trash"),t("path",{d:"M112 112l20 320c.95 18.49 14.4 32 32 32h184c17.67 0 30.87-13.51 32-32l20-320",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"}),t("path",{stroke:"currentColor","stroke-linecap":"round","stroke-miterlimit":"10","stroke-width":"32",d:"M80 112h352"}),t("path",{d:"M192 112V72h0a23.93 23.93 0 0124-24h80a23.93 23.93 0 0124 24h0v40M256 176v224M184 176l8 224M328 176l-8 224",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"})],-1),D=[z],O={key:0,class:"px-2 py-0 flex justify-between items-start"},F={key:1,class:"text-black text-sm"},H={class:"p-2"},J={key:1,class:"text-sm text-gray-400"},q={key:0,class:"flex justify-center gap-4 mt-4"},G=k({__name:"item",props:{id:{type:Number,default:null},name:{type:String,default:null},description:{type:String,default:null},maxSeats:{type:Number,default:null},edit:{type:Boolean,default:!1},editMode:{type:Boolean,default:!1},deleteMode:{type:Boolean,default:!1}},setup(l){const e=l;let n=v(e.editMode);const s=M(()=>{let u={id:e.id,name:r(e.name),description:r(e.description)};return e.maxSeats&&(u.maxSeats=r(e.maxSeats)),u}),r=u=>JSON.parse(JSON.stringify(u)),d=()=>n.value=!0,g=()=>n.value=!1;return(u,c)=>(a(),i("div",j,[t("div",null,[t("div",U,[o(n)?h((a(),i("input",{key:0,placeholder:"Enter A name",type:"text",class:"w-full border p-2 rounded text-lg","onUpdate:modelValue":c[0]||(c[0]=p=>o(s).name=p)},null,512)),[[f,o(s).name]]):(a(),i("h2",L,_(l.name),1)),o(n)?x("",!0):(a(),i("div",N,[l.edit?(a(),i("button",{key:0,onClick:d,class:"rounded-md p-1 text-black"},P)):x("",!0),l.deleteMode?(a(),i("button",{key:1,onClick:c[1]||(c[1]=p=>u.$emit("onDelete",l.id)),class:"rounded-md p-1 text-red-500"},D)):x("",!0)]))]),l.maxSeats?(a(),i("div",O,[o(n)?h((a(),i("input",{key:0,placeholder:"Enter Maximum Seats",type:"number",class:"w-full border p-2 rounded text-lg","onUpdate:modelValue":c[2]||(c[2]=p=>o(s).maxSeats=p)},null,512)),[[f,o(s).maxSeats]]):(a(),i("h3",F,_(l.maxSeats)+" max seats",1))])):x("",!0),t("div",H,[o(n)?h((a(),i("textarea",{key:0,class:"w-full p-2 border rounded text-lg","onUpdate:modelValue":c[3]||(c[3]=p=>o(s).description=p),placeholder:"Enter a Description",rows:"4"},null,512)),[[f,o(s).description]]):(a(),i("p",J,_(l.description),1))])]),o(n)?(a(),i("div",q,[t("button",{onClick:g,class:"rounded-md px-2 py-1 text-white bg-red-500"}," Cancel "),t("button",{onClick:c[4]||(c[4]=()=>{g(),u.$emit("onValidate",o(s))}),class:"rounded-md px-2 py-1 text-white bg-green-500"}," Validate ")])):x("",!0)]))}}),I={class:"w-full bg-white shadow-sm p-2 my-2"},K={class:"p-2 flex justify-between items-start"},Q={class:"px-2 py-0 flex justify-between items-start"},W={class:"p-2"},X={class:"flex justify-center gap-4 mt-4"},Y=k({__name:"form",setup(l){const e=v({name:null,description:null,maxSeats:null}),n=()=>{e.value.name=null,e.value.description=null,e.value.maxSeats=null};return(s,r)=>(a(),i("div",I,[t("div",null,[t("div",K,[h(t("input",{placeholder:"Enter A name",type:"text",class:"w-full border p-2 rounded text-lg","onUpdate:modelValue":r[0]||(r[0]=d=>o(e).name=d)},null,512),[[f,o(e).name]])]),t("div",Q,[h(t("input",{placeholder:"Enter Maximum Seats",type:"number",class:"w-full border p-2 rounded text-lg","onUpdate:modelValue":r[1]||(r[1]=d=>o(e).maxSeats=d)},null,512),[[f,o(e).maxSeats]])]),t("div",W,[h(t("textarea",{class:"w-full p-2 border rounded text-lg","onUpdate:modelValue":r[2]||(r[2]=d=>o(e).description=d),placeholder:"Enter a Description",rows:"4"},null,512),[[f,o(e).description]])])]),t("div",X,[t("button",{onClick:n,class:"rounded-md px-2 py-1 text-white bg-red-500"}," Reset "),t("button",{onClick:r[3]||(r[3]=d=>s.$emit("onValidate",o(e))),class:"rounded-md px-2 py-1 text-white bg-green-500"}," Validate ")])]))}});async function b(){const l=S();m("vehicleTypes");try{const e={Authorization:"Bearer "+m("auth_token").value,"Content-Type":"Application/json"},{data:n}=await $fetch(`${l.BASE_URL}/vehicle-type`,{method:"GET",headers:e});return console.log(n),m("vehicleTypes").value=n,n}catch(e){console.log(e.message)}}async function Z(l){const e=S();console.log(m("auth_token").value);const n={Authorization:"Bearer "+m("auth_token").value,"Content-Type":"Application/json"};try{const{data:s}=await $fetch(`${e.BASE_URL}/vehicle-type`,{method:"POST",headers:n,body:l});b()}catch(s){console.log(s.message)}}async function ee(l){const e=S();console.log(m("auth_token").value);const n={Authorization:"Bearer "+m("auth_token").value,"Content-Type":"Application/json"};try{const{data:s}=await $fetch(`${e.BASE_URL}/vehicle-type`,{method:"PATCH",headers:n,body:l});b()}catch(s){console.log(s.message)}}const te={class:"w-full h-full bg-medium px-10 py-8 overflow-y-auto"},ne={class:"w-full mt-6 grid grid-cols-3 justify-center gap-2"},ae=k({__name:"index",setup(l){const e=m("vehicleTypes");b();const n=v(),s=async d=>{await Z(d),n.value.onClose()},r=d=>ee(d);return(d,g)=>{const u=C,c=G,p=Y,$=A;return a(),i(V,null,[t("div",te,[w(u,{title:"Settings/Vehicle Types"}),t("div",ne,[(a(!0),i(V,null,T(o(e),y=>(a(),B(c,{key:y.id,id:y.id,name:y.name,description:y.description,maxSeats:y.maxSeats,edit:!0,deleteMode:!0,onOnValidate:r},null,8,["id","name","description","maxSeats"]))),128))])]),w($,{title:"Add Vehicle Type",ref_key:"rightSidePanel",ref:n},{default:E(()=>[w(p,{onOnValidate:s})]),_:1},512)],64)}}});export{ae as default};
