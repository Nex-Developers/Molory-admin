import{_ as E}from"./pagetitle.7e123cb8.js";import{a as V,r as k,h as S,o as a,b as i,e,u as d,w as x,v as b,t as M,q as w,i as L,F as B,E as j,s as v,m as u,p as $,K as T,c as P}from"./entry.3decec21.js";import{_ as q}from"./right-side-panel.vue.72161668.js";const z={class:"w-full bg-white shadow-sm p-2 my-2"},R={class:"p-2 flex justify-between items-start"},U={key:0,class:"w-full"},O={class:"flex justify-center gap-4 mb-4"},Q={key:1,class:"text-primary"},N={key:2,class:"flex justify-between"},H=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 fill-current",viewBox:"0 0 512 512"},[e("title",null,"Add"),e("path",{d:"M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z",fill:"none",stroke:"currentColor","stroke-miterlimit":"10","stroke-width":"32"}),e("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M256 176v160M336 256H176"})],-1),D=[H],F=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 fill-current",viewBox:"0 0 512 512"},[e("title",null,"Edit"),e("path",{d:"M384 224v184a40 40 0 01-40 40H104a40 40 0 01-40-40V168a40 40 0 0140-40h167.48",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"}),e("path",{d:"M459.94 53.25a16.06 16.06 0 00-23.22-.56L424.35 65a8 8 0 000 11.31l11.34 11.32a8 8 0 0011.34 0l12.06-12c6.1-6.09 6.67-16.01.85-22.38zM399.34 90L218.82 270.2a9 9 0 00-2.31 3.93L208.16 299a3.91 3.91 0 004.86 4.86l24.85-8.35a9 9 0 003.93-2.31L422 112.66a9 9 0 000-12.66l-9.95-10a9 9 0 00-12.71 0z"})],-1),I=[F],J=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 fill-current",viewBox:"0 0 512 512"},[e("title",null,"Trash"),e("path",{d:"M112 112l20 320c.95 18.49 14.4 32 32 32h184c17.67 0 30.87-13.51 32-32l20-320",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"}),e("path",{stroke:"currentColor","stroke-linecap":"round","stroke-miterlimit":"10","stroke-width":"32",d:"M80 112h352"}),e("path",{d:"M192 112V72h0a23.93 23.93 0 0124-24h80a23.93 23.93 0 0124 24h0v40M256 176v224M184 176l8 224M328 176l-8 224",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"})],-1),G=[J],K={key:0,class:"p-2"},W={key:1,class:"flex justify-center gap-4 mb-4"},X={key:0},Y=["onUpdate:modelValue"],Z={class:"flex justify-center gap-4 mb-4"},ee=["onClick"],te=["onClick"],oe={key:1,class:"text-sm text-gray-400 border-l-4 p-2 border-primary bg-gray-50 flex justify-between"},ne={class:"flex"},se=["onClick"],le=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 fill-current",viewBox:"0 0 512 512"},[e("title",null,"Edit"),e("path",{d:"M384 224v184a40 40 0 01-40 40H104a40 40 0 01-40-40V168a40 40 0 0140-40h167.48",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"}),e("path",{d:"M459.94 53.25a16.06 16.06 0 00-23.22-.56L424.35 65a8 8 0 000 11.31l11.34 11.32a8 8 0 0011.34 0l12.06-12c6.1-6.09 6.67-16.01.85-22.38zM399.34 90L218.82 270.2a9 9 0 00-2.31 3.93L208.16 299a3.91 3.91 0 004.86 4.86l24.85-8.35a9 9 0 003.93-2.31L422 112.66a9 9 0 000-12.66l-9.95-10a9 9 0 00-12.71 0z"})],-1),ae=[le],ie=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 fill-current",viewBox:"0 0 512 512"},[e("title",null,"Trash"),e("path",{d:"M112 112l20 320c.95 18.49 14.4 32 32 32h184c17.67 0 30.87-13.51 32-32l20-320",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"}),e("path",{stroke:"currentColor","stroke-linecap":"round","stroke-miterlimit":"10","stroke-width":"32",d:"M80 112h352"}),e("path",{d:"M192 112V72h0a23.93 23.93 0 0124-24h80a23.93 23.93 0 0124 24h0v40M256 176v224M184 176l8 224M328 176l-8 224",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"})],-1),re=[ie],de=V({__name:"item",props:{id:{type:Number,default:null},question:{type:String,default:null},answers:{type:Array,default:null},edit:{type:Boolean,default:!1},editMode:{type:Boolean,default:!1},deleteMode:{type:Boolean,default:!1}},setup(t){const o=t;let n=k(o.editMode),l=k(!1);const c=S(()=>({id:o.id,value:A(o.question)})),f=k(""),A=p=>JSON.parse(JSON.stringify(p)),h=()=>l.value=!0,m=()=>l.value=!1,C=()=>n.value=!0,_=()=>n.value=!1;return(p,r)=>(a(),i("div",z,[e("div",null,[e("div",R,[d(n)?(a(),i("div",U,[x(e("textarea",{placeholder:"Enter A Question",class:"w-full border p-2 rounded text-lg","onUpdate:modelValue":r[0]||(r[0]=s=>d(c).value=s),rows:"2"},null,512),[[b,d(c).value]]),e("div",O,[e("button",{onClick:_,class:"rounded-md px-2 py-1 text-white bg-red-500"}," Cancel "),e("button",{onClick:r[1]||(r[1]=()=>{_(),p.$emit("onValidate",{id:t.id,value:d(c).value})}),class:"rounded-md px-2 py-1 text-white bg-green-500"}," Validate ")])])):(a(),i("h2",Q,M(t.question),1)),d(n)?w("",!0):(a(),i("div",N,[t.edit?(a(),i("button",{key:0,onClick:h,class:"rounded-md p-1 text-black"},D)):w("",!0),t.edit?(a(),i("button",{key:1,onClick:C,class:"rounded-md p-1 text-black"},I)):w("",!0),t.deleteMode?(a(),i("button",{key:2,onClick:r[2]||(r[2]=s=>p.$emit("onDelete",t.id)),class:"rounded-md p-1 text-red-500"},G)):w("",!0)]))]),d(l)?(a(),i("div",K,[x(e("textarea",{placeholder:"Enter An Answer",class:"w-full border p-2 rounded text-lg","onUpdate:modelValue":r[3]||(r[3]=s=>L(f)?f.value=s:null),rows:"2"},null,512),[[b,d(f)]])])):w("",!0),d(l)?(a(),i("div",W,[e("button",{onClick:m,class:"rounded-md px-2 py-1 text-white bg-red-500"}," Cancel "),e("button",{onClick:r[4]||(r[4]=()=>{m(),p.$emit("onAddAnswer",{questionId:t.id,value:d(f)})}),class:"rounded-md px-2 py-1 text-white bg-green-500"}," Validate ")])):w("",!0),(a(!0),i(B,null,j(t.answers,s=>(a(),i("div",{class:"p-2",key:s.id},[s.editMode?(a(),i("div",X,[x(e("textarea",{class:"w-full p-2 border rounded text-lg","onUpdate:modelValue":y=>s.value=y,placeholder:"Enter the answer",rows:"2"},null,8,Y),[[b,s.value]]),e("div",Z,[e("button",{onClick:y=>s.editMode=!1,class:"rounded-md px-2 py-1 text-white bg-red-500"}," Cancel ",8,ee),e("button",{onClick:()=>{s.editMode=!1,p.$emit("onEditAnswer",{id:s.id,value:s.value})},class:"rounded-md px-2 py-1 text-white bg-green-500"}," Validate ",8,te)])])):(a(),i("div",oe,[e("p",null,M(s.index+1)+" - "+M(s.value),1),e("div",ne,[t.edit?(a(),i("button",{key:0,onClick:y=>s.editMode=!0,class:"rounded-md p-1 text-black"},ae,8,se)):w("",!0),e("button",{onClick:r[5]||(r[5]=y=>p.$emit("onDeleteAnswer",t.id)),class:"rounded-md p-1 text-red-500"},re)])]))]))),128))])]))}}),ue={class:"w-full bg-white shadow-sm p-2 my-2"},ce={class:"p-2"},he={class:"flex justify-center gap-4 mt-4"},pe=V({__name:"form",setup(t){const o=k({value:null}),n=()=>{o.value.value=null};return(l,c)=>(a(),i("div",ue,[e("div",null,[e("div",ce,[x(e("textarea",{placeholder:"Enter A Question",class:"w-full border p-2 rounded text-lg","onUpdate:modelValue":c[0]||(c[0]=f=>d(o).value=f),rows:"2"},null,512),[[b,d(o).value]])])]),e("div",he,[e("button",{onClick:n,class:"rounded-md px-2 py-1 text-white bg-red-500"}," Reset "),e("button",{onClick:c[1]||(c[1]=f=>l.$emit("onValidate",d(o))),class:"rounded-md px-2 py-1 text-white bg-green-500"}," Validate ")])]))}});async function g(){const t=v();u("questions");try{const o={Authorization:"Bearer "+u("auth_token").value,"Content-Type":"Application/json"},{data:n}=await $fetch(`${t.BASE_URL}/question`,{method:"GET",headers:o});return console.log(n),u("questions").value=n,n}catch(o){console.log(o.message)}}async function fe(t){const o=v();console.log(u("auth_token").value);const n={Authorization:"Bearer "+u("auth_token").value,"Content-Type":"Application/json"};try{const{data:l}=await $fetch(`${o.BASE_URL}/question`,{method:"POST",headers:n,body:t});g()}catch(l){console.log(l.message)}}async function me(t){const o=v();console.log(u("auth_token").value);const n={Authorization:"Bearer "+u("auth_token").value,"Content-Type":"Application/json"};try{const{data:l}=await $fetch(`${o.BASE_URL}/answer`,{method:"POST",headers:n,body:t});g()}catch(l){console.log(l.message)}}async function we(t){const o=v();console.log(u("auth_token").value);const n={Authorization:"Bearer "+u("auth_token").value,"Content-Type":"Application/json"};try{const{data:l}=await $fetch(`${o.BASE_URL}/question`,{method:"PATCH",headers:n,body:t});g()}catch(l){console.log(l.message)}}async function ke(t){const o=v();console.log(u("auth_token").value);const n={Authorization:"Bearer "+u("auth_token").value,"Content-Type":"Application/json"};try{const{data:l}=await $fetch(`${o.BASE_URL}/answer`,{method:"PATCH",headers:n,body:t});g()}catch(l){console.log(l.message)}}const ve={class:"w-full h-full bg-medium px-10 py-8 overflow-y-auto"},ge={class:"w-full mt-6 grid grid-cols-2 justify-center gap-2"},be=V({__name:"index",setup(t){const o=u("questions");g();const n=k(),l=async h=>{await fe(h),n.value.onClose()},c=async({questionId:h,value:m})=>{await me({questionId:h,value:m})},f=h=>we(h),A=({id:h,value:m})=>ke({id:h,value:m});return(h,m)=>{const C=E,_=de,p=pe,r=q;return a(),i(B,null,[e("div",ve,[$(C,{title:"Settings/Preferences"}),e("div",ge,[(a(!0),i(B,null,j(d(o),s=>(a(),P(_,{key:s.id,id:s.id,question:s.value,answers:s.answers,edit:!0,deleteMode:!0,onOnValidate:f,onOnAddAnswer:c,onOnEditAnswer:A},null,8,["id","question","answers"]))),128))])]),$(r,{title:"Add Preference",ref_key:"rightSidePanel",ref:n},{default:T(()=>[$(p,{onOnValidate:l})]),_:1},512)],64)}}});export{be as default};
