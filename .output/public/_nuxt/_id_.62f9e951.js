import{_ as I}from"./pagetitle.7e123cb8.js";import{_ as R}from"./infos-panel.vue.0a57cda5.js";import{a as g,o,b as i,e as t,t as V,f as S,h as F,u as a,r as w,w as z,v as A,i as E,j as M,k as T,l as H,m as P,p as d,c as U,q}from"./entry.3decec21.js";import{_ as O}from"./loader.vue.9b88081e.js";import{g as W,v as L,a as D}from"./useDocument.f0448675.js";import"./useUser.3c61f1a5.js";import"./useAlert.0eb29998.js";import"./useAuth.7de355ae.js";const G={class:"flex justify-between items-center p-2"},J={class:"text-center"},K={class:"px-2 py-1 ronded-xl items-center gap-2 flex"},Q={key:0},X={key:1},Y={key:2},Z=g({__name:"card-header",props:{title:String,status:Number},setup(s){return(n,r)=>(o(),i("div",G,[t("h2",J,V(s.title),1),t("div",K,[t("div",{class:S({"w-2 h-2 rounded-full":!0,"bg-red-500":!s.status,"bg-green-500":s.status==1,"bg-yellow-500":s.status==2})},null,2),s.status==1?(o(),i("span",Q,"Confirmed")):s.status==2?(o(),i("span",X,"Waiting...")):(o(),i("span",Y,"Not Confirmed!"))])]))}}),tt={class:"w-full h-full grid place-items-center"},et={key:0},st=t("div",{class:""},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-6 h-6",viewBox:"0 0 512 512"},[t("title",null,"Document Attach"),t("path",{d:"M460 240H320a48 48 0 01-48-48V52a4 4 0 00-4-4h-53.25a65.42 65.42 0 00-6.5-9.81C196.72 23.88 179.59 16 160 16c-37.68 0-64 29.61-64 72v144c0 25 20.34 40 40 40a39.57 39.57 0 0040-40V80a16 16 0 00-32 0v152a7.75 7.75 0 01-8 8c-2.23 0-8-1.44-8-8V88c0-19.34 8.41-40 32-40 29.69 0 32 30.15 32 39.38v138.75c0 17.45-5.47 33.23-15.41 44.46C166.5 282 152.47 288 136 288s-30.5-6-40.59-17.41C85.47 259.36 80 243.58 80 226.13V144a16 16 0 00-32 0v82.13c0 51.51 33.19 89.63 80 93.53V432a64 64 0 0064 64h208a64 64 0 0064-64V244a4 4 0 00-4-4z"}),t("path",{d:"M320 208h129.81a2 2 0 001.41-3.41L307.41 60.78a2 2 0 00-3.41 1.41V192a16 16 0 0016 16z"})])],-1),at=t("div",null,[t("button",{class:"text-primary"},"View >>")],-1),nt=["src","alt"],ot={key:1,class:"my-8 text-red-500"},it=g({__name:"item",props:{title:String,path:String},setup(s){const n=s,r=F(()=>{var e;const c=["jpg","jpeg","png","gif","bmp","svg"],m=(e=n.path)==null?void 0:e.split(".").pop();return!c.includes(m)}),l=()=>{window.open(n.path,"_blank")};return(c,m)=>(o(),i("div",tt,[s.path?(o(),i("div",et,[a(r)?(o(),i("div",{key:0,class:"flex justify-between gap-4 p-4 border border-gray-800 rounded-xl",onClick:l},[st,t("div",null,[t("h3",null,V(s.title),1)]),at])):(o(),i("img",{key:1,class:"w-96 h-full",src:s.path,alt:s.title},null,8,nt))])):(o(),i("span",ot," No uploaded file "))]))}}),lt={class:"flex justify-between items-center"},dt={class:"p-2 w-3/4"},ct={class:"py-2 flex gap-2"},rt=g({__name:"card-footer",props:{title:String},setup(s){const n=w(null);return(r,l)=>(o(),i("div",lt,[t("div",dt,[z(t("input",{class:"w-full p-2 border-b border-gray-200",type:"text",placeholder:"Enter Card Number to validate either enter rejection message","onUpdate:modelValue":l[0]||(l[0]=c=>E(n)?n.value=c:null)},null,512),[[A,a(n)]])]),t("div",ct,[t("button",{class:"bg-green-500 py-1 px-2 mr-4 rounded-md text-white",onClick:l[1]||(l[1]=c=>r.$emit("validate",a(n),s.title))},"Validate"),t("button",{class:"bg-red-500 py-1 px-2 text-white rounded-md mr-4",onClick:l[2]||(l[2]=c=>r.$emit("reject",a(n),s.title))},"Reject")])]))}}),ut={class:"w-full h-full bg-medium px-10 py-8 overflow-y-auto relative"},mt={class:"w-full mt-6"},_t={class:"md:flex no-wrap md:-mx-2"},pt={class:"w-full md:w-3/12 md:mx-2"},ht=t("div",{class:"my-4"},null,-1),vt={class:"w-full space-y-4 md:w-9/12 mx-2 h-64"},ft={class:"bg-white p-3 shadow-sm rounded-sm"},wt={class:"border mb-8 border-gray-200 rounded-md"},gt={class:"w-full flex"},xt={class:"w-1/2"},bt={class:"w-1/2"},yt={class:"bg-white p-3 shadow-sm rounded-sm"},$t={class:"border border-gray-200 rounded-md"},Ct={class:"w-full flex"},kt={class:"w-1/2"},Lt={class:"w-1/2"},Ft=g({__name:"[id]",async setup(s){let n,r;const l=M(),c=T(),m=+l.params.id,e=w(null);e.value=([n,r]=H(()=>W(m)),n=await n,r(),n),console.log(e);const p="ID Card",h="Driver License",x=w(!1),b=w(!1),y=(_,u)=>{b.value=!0,u===p?L(e.value.id,_):u===h?D(e.value.id,_):window.alert("Invalid title"),b.value=!1,c.push("/documents")},$=(_,u)=>{x.value=!0;const v=_;u===p?L(e.value.id,"validate",v):u===h?D(e.value.id,"validate",v):window.alert("Invalid title"),x.value=!1,c.push("/documents")},j=P("showLoader");return(_,u)=>{const v=I,N=R,C=Z,f=it,k=rt,B=O;return o(),i("div",ut,[d(v,{title:"Documents/"+a(e).lastName+" "+a(e).firstName},null,8,["title"]),t("div",mt,[t("div",_t,[t("div",pt,[d(N,{data:a(e),id:m},null,8,["data"]),ht]),t("div",vt,[t("div",ft,[t("div",wt,[d(C,{title:p,status:a(e).idCardStatus},null,8,["status"]),t("div",gt,[t("div",xt,[d(f,{title:"ID Card Front",path:a(e).idCardFront},null,8,["path"])]),t("div",bt,[d(f,{title:"ID Card Back",path:a(e).idCardBack},null,8,["path"])])]),d(k,{title:p,onReject:y,onValidate:$})])]),t("div",yt,[t("div",$t,[d(C,{title:h,status:a(e).driverLicenseStatus},null,8,["status"]),t("div",Ct,[t("div",kt,[d(f,{title:"Driver License Front",path:a(e).driverLicenseFront},null,8,["path"])]),t("div",Lt,[d(f,{title:"Driver License Back",path:a(e).driverLicenseBack},null,8,["path"])])]),d(k,{title:h,isLoadingValidate:a(x),isLoadingReject:a(b),onReject:y,onValidate:$},null,8,["isLoadingValidate","isLoadingReject"])])])])])]),a(j)?(o(),U(B,{key:0})):q("",!0)])}}});export{Ft as default};
