import{_ as k}from"./pagetitle.7e123cb8.js";import{a as f,h as $,r as N,o as l,b as i,e as s,u as t,w as _,v as m,t as e,q as v,j as C,l as y,p as g,F as V,E as j,G as w}from"./entry.3decec21.js";import{u as M,g as A}from"./useUser.3c61f1a5.js";import{g as D}from"./useTrip.4ffa13d6.js";import"./useAlert.0eb29998.js";import"./useAuth.7de355ae.js";const z={class:"bg-white w-full pb-4 border-t-4 rounded-sm border-primary"},B={class:"image overflow-hidden"},U=["src"],F={class:"text-gray-600 hover:text-gray-700 hover:shadow py-2 px-3 divide-y rounded shadow-sm"},T={class:"flex items-center py-3"},E=s("span",null,"First Name",-1),P={class:"text-primary ml-auto"},S={key:1},q={class:"flex items-center py-3"},R=s("span",null,"Last Name",-1),G={class:"text-primary ml-auto"},L={key:1},H={class:"flex items-center py-3"},I=s("span",null,"Phone Number",-1),O={class:"text-primary ml-auto"},J={class:"flex items-center py-3"},K=s("span",null,"Gender",-1),Q={class:"text-primary ml-auto"},W={key:1},X={class:"flex items-center py-3"},Y=s("span",null,"Birthday",-1),Z={class:"text-primary ml-auto"},ss={key:1},ts={class:"flex items-center py-3"},es=s("span",null,"Role",-1),as={class:"text-primary ml-auto"},os=s("li",{class:"flex items-center py-3"},[s("span",null,"Status"),s("span",{class:"ml-auto"},[s("span",{class:"bg-green-500 py-1 px-2 rounded text-white text-sm"},"Active")])],-1),ns={class:"flex items-center py-3"},ls=s("span",null,"Member since",-1),is={class:"text-primary ml-auto"},ds={key:0,class:"flex justify-center mt-4"},rs={key:1,class:"flex justify-center gap-4 mt-4"},cs=f({__name:"user-infos",props:{data:Object,edit:{type:Boolean,default:!1}},setup(d){const n=d,o=$(()=>({id:n.data.id,firstName:n.data.firstName,lastName:n.data.lastName,gender:n.data.gender,birthDay:n.data.birthDay})),r=N(!1),a=()=>{r.value=!0},h=()=>{r.value=!1,console.log(o.value),M(o.value)},x=()=>{r.value=!1};return(b,c)=>(l(),i("div",z,[s("div",B,[s("img",{class:"aspect-square w-full mx-auto",src:d.data.avatar||"/img/user.jpeg",alt:""},null,8,U)]),s("ul",F,[s("li",T,[E,s("span",P,[t(r)?_((l(),i("input",{key:0,type:"text","onUpdate:modelValue":c[0]||(c[0]=p=>t(o).firstName=p)},null,512)),[[m,t(o).firstName]]):(l(),i("span",S,e(d.data.firstName),1))])]),s("li",q,[R,s("span",G,[t(r)?_((l(),i("input",{key:0,type:"text","onUpdate:modelValue":c[1]||(c[1]=p=>t(o).lastName=p)},null,512)),[[m,t(o).lastName]]):(l(),i("span",L,e(d.data.lastName),1))])]),s("li",H,[I,s("span",O,e(d.data.phoneNumber),1)]),s("li",J,[K,s("span",Q,[t(r)?_((l(),i("input",{key:0,type:"text","onUpdate:modelValue":c[2]||(c[2]=p=>t(o).gender=p)},null,512)),[[m,t(o).gender]]):(l(),i("span",W,e(d.data.gender),1))])]),s("li",X,[Y,s("span",Z,[t(r)?_((l(),i("input",{key:0,type:"text","onUpdate:modelValue":c[3]||(c[3]=p=>t(o).birthDay=p)},null,512)),[[m,t(o).birthDay]]):(l(),i("span",ss,e(d.data.birthDay),1))])]),s("li",ts,[es,s("span",as,e(d.data.role),1)]),os,s("li",ns,[ls,s("span",is,e(d.data.createdAt),1)])]),d.edit&&!t(r)?(l(),i("div",ds,[s("button",{onClick:a,class:"rounded-md px-2 py-1 text-white bg-blue-500"}," Modifier ")])):v("",!0),t(r)?(l(),i("div",rs,[s("button",{onClick:x,class:"rounded-md px-2 py-1 text-white bg-red-500"}," Annuler "),s("button",{onClick:h,class:"rounded-md px-2 py-1 text-white bg-green-500"}," Valider ")])):v("",!0)]))}}),us={class:"w-full h-full bg-medium px-10 py-8 overflow-y-auto"},ps={class:"w-full mt-6"},_s={class:"md:flex no-wrap md:-mx-2"},ms={class:"w-full md:w-3/12 md:mx-2"},hs=s("div",{class:"my-4"},null,-1),xs={class:"w-full space-y-4 md:w-9/12 mx-2 h-64"},vs={class:"grid grid-cols-4 gap-4"},ys=s("div",{class:"bg-white p-3 shadow-sm rounded-sm"},[s("span",null,"En Attente")],-1),gs={class:"bg-white p-3 shadow-sm rounded-sm"},fs=s("br",null,null,-1),ws=s("div",{class:"bg-white p-3 shadow-sm rounded-sm"},[s("span",null,"5000 F CFA")],-1),bs={class:"bg-white p-3 shadow-sm rounded-sm"},ks={class:"bg-white p-3 shadow-sm rounded-sm"},$s=w('<div class="flex items-center space-x-2 font-semibold text-secondary leading-8"><span class="text-tertiary"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 fill-current" viewBox="0 0 512 512"><title>Pin</title><path d="M339 99a83 83 0 10-102 80.8V464l19 32 19-32V179.8A83.28 83.28 0 00339 99zm-59-6a21 21 0 1121-21 21 21 0 01-21 21z"></path></svg></span><span class="tracking-wide">Routes</span></div>',1),Ns={class:"grid grid-cols-3 items-center border border-tertiary text-xs rounded-md p-2"},Cs={class:"text-center"},Vs={class:"text-center text-sm text-primary"},js=s("hr",{class:"w-full"},null,-1),Ms={class:"text-center"},As={class:"text-center"},Ds=s("div",{class:"my-4"},null,-1),zs={class:"bg-white p-3 shadow-sm rounded-sm"},Bs={class:""},Us=w('<div class="flex items-center space-x-2 font-semibold text-secondary leading-8 mb-3"><span class="text-tertiary"><svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 fill-current" viewBox="0 0 512 512"><title>People</title><path d="M402 168c-2.93 40.67-33.1 72-66 72s-63.12-31.32-66-72c-3-42.31 26.37-72 66-72s69 30.46 66 72z" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"></path><path d="M336 304c-65.17 0-127.84 32.37-143.54 95.41-2.08 8.34 3.15 16.59 11.72 16.59h263.65c8.57 0 13.77-8.25 11.72-16.59C463.85 335.36 401.18 304 336 304z" fill="none" stroke="currentColor" stroke-miterlimit="10" stroke-width="32"></path><path d="M200 185.94c-2.34 32.48-26.72 58.06-53 58.06s-50.7-25.57-53-58.06C91.61 152.15 115.34 128 147 128s55.39 24.77 53 57.94z" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"></path><path d="M206 306c-18.05-8.27-37.93-11.45-59-11.45-52 0-102.1 25.85-114.65 76.2-1.65 6.66 2.53 13.25 9.37 13.25H154" fill="none" stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="32"></path></svg></span><span class="tracking-wide">Travelers</span></div>',1),Fs={class:"w-1/2"},Ts={class:"flex items-center"},Es=["src"],Ps={class:"ml-4"},Ss={class:"capitalize block text-gray-800"},qs={class:"text-sm block text-gray-600"},Rs={class:"w-1/2"},Gs={class:"flex justify-around items-center text-xs"},Ls=s("hr",{class:"w-12"},null,-1),Hs={class:"capitalize text-gray-600 text-sm pt-2 text-center"},Is={class:"w-1/4"},Os={class:"text-gray-600 text-sm"},Js={class:"w-1/4"},Ks={class:"text-gray-600 text-sm"},tt=f({__name:"[id]",async setup(d){let n,o;const r=C(),a=([n,o]=y(()=>D(+r.params.id)),n=await n,o(),n),h=([n,o]=y(()=>A(a.user.id)),n=await n,o(),n);return(x,b)=>{const c=k,p=cs;return l(),i("div",us,[g(c,{title:"Trips/"+t(a).id},null,8,["title"]),s("div",ps,[s("div",_s,[s("div",ms,[g(p,{data:t(h),id:t(a).user.id},null,8,["data","id"]),hs]),s("div",xs,[s("div",vs,[ys,s("div",gs,[s("span",null,e(t(a).departureDate),1),fs,s("span",null,e(t(a).departureTime),1)]),ws,s("div",bs,[s("span",null,e(t(a).seats-t(a).remainingSeats)+"/"+e(t(a).seats),1)])]),s("div",ks,[$s,s("div",Ns,[s("div",Cs,[s("span",null,e(t(a).route.stops[0].address),1)]),s("div",null,[s("div",Vs,[s("span",null,e(t(a).route.price)+" F",1)]),js,s("div",Ms,[s("span",null,e(t(a).route.distance)+" km ~ "+e(t(a).route.duration)+" h",1)])]),s("div",As,[s("span",null,e(t(a).route.stops[1].address),1)])])]),Ds,s("div",zs,[s("div",Bs,[s("div",null,[Us,s("div",null,[(l(!0),i(V,null,j(t(a).passengers,u=>(l(),i("div",{key:u.user.id,class:"hover:bg-gray-200 cursor-pointer bg-white shadow flex p-5 items-center mb-5 rounded-lg"},[s("div",Fs,[s("div",Ts,[s("img",{src:u.user.avatar||"/img/user.jpeg",class:"aspect-square w-8 rounded-full"},null,8,Es),s("div",Ps,[s("span",Ss,e(u.user.firstName)+" "+e(u.user.lastName),1),s("span",qs,e(u.user.phoneNumber),1)])])]),s("div",Rs,[s("div",Gs,[s("span",null,e(u.travel.route.stops[0].address),1),Ls,s("span",null,e(u.travel.route.stops[1].address),1)]),s("div",Hs,e(u.travel.createdAt),1)]),s("div",Is,[s("span",Os,e(u.travel.seats)+" seats",1)]),s("div",Js,[s("span",Ks,e(u.travel.status),1)])]))),128))])])])])])])])])}}});export{tt as default};
