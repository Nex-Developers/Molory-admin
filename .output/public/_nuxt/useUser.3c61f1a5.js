import{s as r,m as s}from"./entry.3decec21.js";import{s as n}from"./useAlert.0eb29998.js";import{r as c}from"./useAuth.7de355ae.js";async function i(){const a=r();s("users");try{n(!0,"Loading");const t={Authorization:"Bearer "+s("auth_token").value,"Content-Type":"Application/json"},{data:e}=await $fetch(`${a.BASE_URL}/user`,{method:"GET",headers:t});return console.log(e),s("users").value=e,n(!1),e}catch(t){console.log(t.message),t.message.includes("403")&&c(),n(!1)}}async function u(a){const t=r();try{n(!0,"Loading");const e={Authorization:"Bearer "+s("auth_token").value,"Content-Type":"Application/json"},{data:o}=await $fetch(`${t.BASE_URL}/user/${a}`,{method:"GET",headers:e});return console.log(o),n(!1),o}catch(e){console.log(e.message),e.message.includes("403")&&c(),n(!1)}}async function g(a){const t=r();console.log(s("auth_token").value);const e={Authorization:"Bearer "+s("auth_token").value,"Content-Type":"Application/json"};try{const{data:o}=await $fetch(`${t.BASE_URL}/user`,{method:"POST",headers:e,body:a});i()}catch(o){console.log(o.message),o.code===403&&c()}}async function d(a){const t=r();console.log(s("auth_token").value);const e={Authorization:"Bearer "+s("auth_token").value,"Content-Type":"Application/json"};try{await $fetch(`${t.BASE_URL}/user`,{method:"PATCH",headers:e,body:a});const{data:o}=await u(a.id);return o}catch(o){console.log(o.message),o.code===403&&c()}}export{i as a,g as b,u as g,d as u};
